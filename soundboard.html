<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Soundboard</title>
	<script type="text/javascript">
	  var sounds = [
      "./effects/flapping-wings.ogg",
      "./effects/thunder-clap.oga",
      "./effects/red-tailed-hawk-scream.ogg",
      "./effects/thunder-clap-2.oga",
      "./ambient/thunderstorm.ogg",
      "./music/skyrim-ost-blood-and-steel-extended.oga",
      "./music/horizon-zero-dawn-ost-colossal.oga",
      "./music/horizon-zero-dawn-ost-frostclaw-battle-extended.oga",
      "./music/the-go-team-everyones-a-vip-to-someone.oga",
	  ];
	</script>
</head>
<body>
  <div id="doc" style="display: grid; grid: auto-flow / repeat(auto-fill, 270px); grid-gap: 10px"></div>
  <script src="./jquery.min.js"></script>
  <script type="text/javascript" charset="utf-8">
    for (var i = 0; i < sounds.length; i += 1) {
      var sound_url = sounds[i];
      var name = sound_url.match(/.+\/(.+)\.\w{3}/)[1];
      var elem = $(
        '<div class="audio_block" style="width: 270px;">' +
          '<audio src="' + sound_url + '" controls autobuffer="true" title="' + name + '"></audio><br>' +
          '<button style="width: 100%;">' + name + '</button><br>' +
          '<input type="checkbox">loop</input>' +
        '</div>'
      );
      $('#doc').append(elem);
    }
    $(function() {
      $('.audio_block').each(function(i, audio_block_elem) {
        var audio_block = $(audio_block_elem);
        var audio = audio_block.find('audio')[0];
        var audio_button = audio_block.find('button')[0];
        var audio_loop_checkbox = audio_block.find('input')[0];
        $(audio_button)
          .click(function() {
            audio.currentTime = 0;
            audio.play();
          });
        $(audio_loop_checkbox)
          .change(function() {
            audio.loop = $(this).prop('checked');
          })
          .prop('checked', (audio.loop = (audio.duration >= 60.0)));
      });
    });
  </script>
</body>
</html>
